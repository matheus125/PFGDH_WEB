<div class="card card-info card-outline mb-4">
  <div class="card-header">
    <div class="card-title">Clientes</div>
  </div>

  <!-- Formulário -->
  <form class="needs-validation" action="/admin/clientes/create" method="post" novalidate>
    <div class="card-body">
      <div class="row g-3">

        <!-- DADOS PESSOAIS -->
        <h5 class="mt-3">Dados Pessoais</h5>
        <div class="col-md-4">
          <label for="nome_completo" class="form-label">Nome Completo</label>
          <input type="text" class="form-control form-control-sm" id="nome_completo" name="nome_completo" required>
        </div>

        <div class="col-md-3">
          <label for="nome_social" class="form-label">Nome Social</label>
          <input type="text" class="form-control form-control-sm" id="nome_social" name="nome_social">
        </div>

        <div class="col-md-2">
          <label for="cor_cliente" class="form-label">Cor / Etnia</label>
          <input type="text" class="form-control form-control-sm" id="cor_cliente" name="cor_cliente">
        </div>

        <div class="col-md-3">
          <label for="nome_mae" class="form-label">Nome da Mãe</label>
          <input type="text" class="form-control form-control-sm" id="nome_mae" name="nome_mae" required>
        </div>

        <div class="col-md-2">
          <label for="genero_cliente" class="form-label">Sexo</label>
          <select class="form-select form-select-sm" id="genero_cliente" name="genero_cliente" required>
            <option value="">...</option>
            <option value="M">Masculino</option>
            <option value="F">Feminino</option>
            <option value="Outro">Outro</option>
          </select>
        </div>


        <div class="col-md-2">
          <label for="estado_civil" class="form-label">Estado Civil</label>
          <select class="form-select form-select-sm" id="estado_civil" name="estado_civil" required>
            <option value="">...</option>
            <option>Solteiro(a)</option>
            <option>Casado(a)</option>
            <option>Divorciado(a)</option>
            <option>Viúvo(a)</option>
            <option>União Estável</option>
          </select>
        </div>

        <div class="col-md-2">
          <label for="data_nascimento" class="form-label">Nascimento</label>
          <input type="date" class="form-control form-control-sm" id="data_nascimento" name="data_nascimento" required>
        </div>

        <div class="col-md-1">
          <label for="idade_cliente" class="form-label">Idade</label>
          <input type="number" class="form-control form-control-sm" id="idade_cliente" name="idade_cliente" readonly>
        </div>

        <!-- DOCUMENTOS -->
        <h5 class="mt-4">Documentos</h5>
        <div class="col-md-3">
          <label for="rg" class="form-label">RG</label>
          <input type="text" class="form-control form-control-sm" id="rg" name="rg" required>
        </div>

        <div class="col-md-3">
          <label for="cpf" class="form-label">CPF</label>
          <input type="text" class="form-control form-control-sm" id="cpf" name="cpf" required>
        </div>

        <div class="col-md-3">
          <label for="nis" class="form-label">NIS</label>
          <input type="text" class="form-control form-control-sm" id="nis" name="nis">
        </div>

        <div class="col-md-2">
          <label for="status_cliente" class="form-label">Status</label>
          <input type="text" class="form-control form-control-sm" id="status_cliente" name="status_cliente">
        </div>

        <!-- CONTATO -->
        <h5 class="mt-4">Contato</h5>
        <div class="col-md-3">
          <label for="telefone" class="form-label">Telefone</label>
          <input type="text" class="form-control form-control-sm" id="telefone" name="telefone" required>
        </div>

        <!-- ENDEREÇO -->
        <h5 class="mt-4">Endereço</h5>
        <div class="col-md-2">
          <label for="cep" class="form-label">CEP</label>
          <input type="text" class="form-control form-control-sm" id="cep" name="cep" required>
        </div>

        <div class="col-md-4">
          <label for="rua" class="form-label">Rua</label>
          <input type="text" class="form-control form-control-sm" id="rua" name="rua" required>
        </div>

        <div class="col-md-2">
          <label for="numero" class="form-label">Nº</label>
          <input type="text" class="form-control form-control-sm" id="numero" name="numero" required>
        </div>

        <div class="col-md-3">
          <label for="bairro" class="form-label">Bairro</label>
          <input type="text" class="form-control form-control-sm" id="bairro" name="bairro" required>
        </div>

        <div class="col-md-3">
          <label for="cidade" class="form-label">Cidade</label>
          <input type="text" class="form-control form-control-sm" id="cidade" name="cidade" required>
        </div>

        <div class="col-md-4">
          <label for="referencia" class="form-label">Referência</label>
          <input type="text" class="form-control form-control-sm" id="referencia" name="referencia">
        </div>

        <div class="col-md-2">
          <label for="tempo_moradia_cliente" class="form-label">Tempo de Moradia</label>
          <input type="text" class="form-control form-control-sm" id="tempo_moradia_cliente"
            name="tempo_moradia_cliente">
        </div>

        <div class="col-md-2">
          <label for="nacionalidade" class="form-label">Nacionalidade</label>
          <input type="text" class="form-control form-control-sm" id="nacionalidade" name="nacionalidade">
        </div>

        <div class="col-md-2">
          <label for="naturalidade" class="form-label">Naturalidade</label>
          <input type="text" class="form-control form-control-sm" id="naturalidade" name="naturalidade">
        </div>

      </div>
    </div>

    <div class="card-footer text-end">
      <button class="btn btn-info btn-sm" type="submit">Salvar</button>
    </div>
  </form>



  <!-- Scripts de Máscara e Cálculo -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8/jquery.inputmask.min.js"></script>
  <script>
    $(document).ready(function () {

      // ===== Máscara RG (9 ou 11 dígitos, formatado) =====
      $("#rg").inputmask({
        mask: ["99.999.999-9", "999.999.999-99"],
        greedy: false,
        placeholder: ""
      });

      // ===== Máscara CPF =====
      $("#cpf").inputmask("999.999.999-99");

      // ===== Máscara Telefone =====
      $("#telefone").inputmask({
        mask: ["(99) 9999-9999", "(99) 99999-9999"],
        greedy: false,
        placeholder: ""
      });

      // ===== Máscara CEP =====
      $("#cep").inputmask("99999-999");

      // ===== Máscara CEP =====
      $("#cep").inputmask("99999-999");

      // ===== Cálculo automático da idade =====
      $("#data_nascimento").on("change", function () {
        var dataNascimento = $(this).val();
        if (dataNascimento) {
          var hoje = new Date();
          var nascimento = new Date(dataNascimento);
          var idade = hoje.getFullYear() - nascimento.getFullYear();
          var m = hoje.getMonth() - nascimento.getMonth();
          if (m < 0 || (m === 0 && hoje.getDate() < nascimento.getDate())) {
            idade--;
          }
          $("#idade_cliente").val(idade);
        } else {
          $("#idade_cliente").val('');
        }
      });

    });
  </script>

</div>